"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8892],{12638:(e,r,s)=>{s.d(r,{A:()=>u});var a=s(95155),t=s(12108),n=s(6874),i=s.n(n),l=s(35695),o=s(42355),d=s(15080);function c(e){var r,s,n;let{children:d,title:c,showBack:u=!0,showTitle:h=!0}=e,{data:x}=(0,t.useSession)(),m=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-16",children:[(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b fixed inset-x-0 top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(i(),{href:"/dashboard",className:"text-xl font-semibold text-gray-900",children:"MCQ Teacher Evaluation"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"font-medium",children:null==x||null==(r=x.user)?void 0:r.name}),(0,a.jsxs)("span",{className:"ml-2 text-gray-500",children:["(",null==x||null==(s=x.user)?void 0:s.role,")"]}),(0,a.jsx)("span",{className:"ml-2 text-gray-500",children:null==x||null==(n=x.user)?void 0:n.departmentName})]}),(0,a.jsx)("button",{onClick:()=>{(0,t.signOut)({callbackUrl:"/login"})},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Logout"})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[u&&(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsxs)("button",{"aria-label":"Back",onClick:()=>{window.history.length>1?m.back():m.push("/admin")},className:"inline-flex items-center justify-center rounded-md border border-gray-200 bg-white px-2 py-1 text-sm text-gray-700 hover:bg-gray-50",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"ml-1 hidden sm:inline",children:"Back"})]})}),h&&c?(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:c}):null,d]})})]})}function u(e){return(0,a.jsx)(d.PageErrorBoundary,{pageName:"Dashboard Layout",children:(0,a.jsx)(c,{...e})})}},15080:(e,r,s)=>{s.d(r,{PageErrorBoundary:()=>u,r0:()=>h});var a=s(95155),t=s(12115),n=s(30285),i=s(66695),l=s(1243),o=s(53904),d=s(57340);class c extends t.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),this.props.onError&&this.props.onError(e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:(0,a.jsxs)(i.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(i.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 text-red-500",children:(0,a.jsx)(l.A,{className:"w-full h-full"})}),(0,a.jsx)(i.ZB,{className:"text-xl text-gray-900",children:"Something went wrong"}),(0,a.jsx)(i.BT,{children:"We apologize for the inconvenience. Please try refreshing the page or return to the homepage."})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(n.$,{onClick:this.handleReset,className:"w-full",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Try Again"]}),(0,a.jsxs)(n.$,{variant:"outline",onClick:this.handleGoHome,className:"w-full",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Go to Homepage"]})]}),!1]})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}}function u(e){let{children:r,pageName:s}=e;return(0,a.jsx)(c,{onError:(e,r)=>{console.error("Error in ".concat(s||"page",":"),e,r)},children:r})}function h(e){let{children:r,fallback:s,dataType:t}=e,d=(0,a.jsx)(i.Zp,{className:"w-full",children:(0,a.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,a.jsx)(l.A,{className:"w-8 h-8 text-amber-500 mb-4"}),(0,a.jsxs)("p",{className:"text-center text-gray-600",children:["Unable to load ",t||"data",". Please try refreshing the page."]}),(0,a.jsxs)(n.$,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-4",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})});return(0,a.jsx)(c,{fallback:s||d,children:r})}},30285:(e,r,s)=>{s.d(r,{$:()=>o,r:()=>l});var a=s(95155);s(12115);var t=s(99708),n=s(74466),i=s(59434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:s,size:n,asChild:o=!1,...d}=e,c=o?t.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:r})),...d})}},59434:(e,r,s)=>{s.d(r,{cn:()=>n});var a=s(52596),t=s(39688);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}},66695:(e,r,s)=>{s.d(r,{BT:()=>o,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i});var a=s(95155);s(12115);var t=s(59434);function n(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...s})}function i(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function l(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",r),...s})}function o(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",r),...s})}function d(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",r),...s})}},79783:(e,r,s)=>{s.d(r,{A:()=>d});var a=s(95155),t=s(12108),n=s(35695),i=s(12115),l=s(15080);function o(e){var r;let{allowedRoles:s,children:l,fallback:o=(0,a.jsx)("div",{children:"Access denied. You don't have permission to view this page."})}=e,{data:d,status:c}=(0,t.useSession)(),u=(0,n.useRouter)();if((0,i.useEffect)(()=>{var e;if("loading"===c)return;if(!d)return void u.push("/login");let r=null==(e=d.user)?void 0:e.role;if(!r||!s.includes(r))return void u.push("/unauthorized")},[d,c,s,u]),"loading"===c)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});let h=null==d||null==(r=d.user)?void 0:r.role;return d&&h&&s.includes(h)?(0,a.jsx)(a.Fragment,{children:l}):(0,a.jsx)(a.Fragment,{children:o})}function d(e){return(0,a.jsx)(l.PageErrorBoundary,{pageName:"Role Guard",children:(0,a.jsx)(o,{...e})})}}}]);