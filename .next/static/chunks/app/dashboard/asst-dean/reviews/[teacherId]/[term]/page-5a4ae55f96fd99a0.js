(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3689],{22495:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(95155),a=t(12115),d=t(35695),i=t(79783),n=t(12638),l=t(91839);function o(e){let{params:s}=e,[t,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[h,v]=(0,a.useState)(""),b=(0,d.useRouter)(),{teacherId:p,term:w}=s,m=async e=>{o(!0),u(""),v("");try{let s=await fetch("/api/reviews/asst-dean",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:p,term:w,...e})});if(s.ok){let s=e.submitted?"Review submitted successfully!":"Review saved as draft!";v(s),e.submitted&&setTimeout(()=>{b.push("/dashboard/asst-dean/reviews")},2e3)}else{let e=await s.json();u(e.error||"Failed to save review")}}catch(e){u("Error saving review")}finally{o(!1)}};return(0,r.jsx)(i.A,{allowedRoles:["ASST_DEAN"],children:(0,r.jsx)(n.A,{title:"Assistant Dean Review - ".concat(w," Term"),children:(0,r.jsxs)("div",{className:"space-y-6",children:[c&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),h&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:h}),(0,r.jsx)(l.A,{teacherId:p,term:w,reviewerRole:"ASST_DEAN",onSubmit:m,onCancel:()=>{b.push("/dashboard/asst-dean/reviews")},loading:t})]})})})}},35960:(e,s,t)=>{Promise.resolve().then(t.bind(t,22495))}},e=>{e.O(0,[6169,2108,699,6671,8892,5355,8441,5964,7358],()=>e(e.s=35960)),_N_E=e.O()}]);