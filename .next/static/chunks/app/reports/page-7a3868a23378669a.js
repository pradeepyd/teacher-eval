(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5022],{26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var s=a(95155);a(12115);var r=a(99708),n=a(74466),l=a(59434);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,asChild:n=!1,...o}=e,d=n?r.DX:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,l.cn)(i({variant:a}),t),...o})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>i});var s=a(95155);a(12115);var r=a(99708),n=a(74466),l=a(59434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:n,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:a,size:n,className:t})),...d})}},47924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},51154:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},57434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>u,gC:()=>x,l6:()=>d,yv:()=>c});var s=a(95155);a(12115);var r=a(89912),n=a(66474),l=a(5196),i=a(47863),o=a(59434);function d(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:a="default",children:l,...i}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:t,children:a,position:n="popper",...l}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(p,{})]})})}function u(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(n.A,{className:"size-4"})})}},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(52596),r=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(95155),r=a(12115),n=a(59434);let l=r.forwardRef(function(e,t){let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{ref:t,type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})});l.displayName="Input"},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l});var s=a(95155);a(12115);var r=a(59434);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},82217:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(95155),r=a(12115),n=a(35695),l=a(66695),i=a(30285),o=a(62523),d=a(59409),c=a(26126),m=a(85127),x=a(19946);let u=(0,x.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var h=a(47924),p=a(51154),v=a(53904);let f=(0,x.A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var g=a(57434),b=a(91788),j=a(12108);function N(){var e;let t=(0,n.useRouter)(),{data:x}=(0,j.useSession)(),[N,y]=(0,r.useState)(""),[w,S]=(0,r.useState)([]),[A,D]=(0,r.useState)(null),[k,T]=(0,r.useState)(!1),[C,E]=(0,r.useState)(null),[z,F]=(0,r.useState)(null),[R,L]=(0,r.useState)("ALL"),[O,P]=(0,r.useState)("ALL"),[_,H]=(0,r.useState)("ALL"),[M,I]=(0,r.useState)("");(0,r.useEffect)(()=>{y(new Date().toLocaleTimeString());let e=setInterval(()=>{y(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(e)},[]);let Z=(0,r.useCallback)(async()=>{if(null==x?void 0:x.user){T(!0),E(null);try{let e=new URLSearchParams;"ALL"!==R&&e.append("departmentId",R),"ALL"!==O&&e.append("role",O),"ALL"!==_&&e.append("year",_);let t=await fetch("/api/reports/results?".concat(e.toString()));if(!t.ok)throw Error("Failed to fetch evaluation results");let a=await t.json();S(a.results||[]),D(a.summary||null)}catch(e){E(e instanceof Error?e.message:"Failed to fetch data")}finally{T(!1)}}},[null==x?void 0:x.user,R,O,_]);(0,r.useEffect)(()=>{Z()},[Z]);let W=(0,r.useCallback)(async(e,t,s,r)=>{F("".concat(e,"-").concat(r));try{var n,l;let i;if("TEACHER"===s){let t=await fetch("/api/admin/teacher-evaluation-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:e,term:r})});if(!t.ok)throw Error("Failed to fetch teacher evaluation data");i=await t.json()}else if("HOD"===s){let t=await fetch("/api/admin/hod-evaluation-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hodId:e,term:r})});if(!t.ok)throw Error("Failed to fetch HOD evaluation data");i=await t.json()}let{jsPDF:o}=await Promise.all([a.e(3930),a.e(913)]).then(a.bind(a,26597)),d=new o("p","mm","a4");if("TEACHER"===s){d.setFontSize(20),d.text("Teacher Performance Evaluation Report",105,20,{align:"center"}),d.setFontSize(12),d.text("".concat(r," Term ").concat(new Date().getFullYear()),105,30,{align:"center"}),d.setFontSize(14),d.text("Teacher Information",20,50),d.setFontSize(10),d.text("Name: ".concat(t),20,60),d.text("Department: ".concat((null==(n=w.find(t=>t.id===e))?void 0:n.department)||"N/A"),20,70),d.text("Term: ".concat(r),20,80);let a=100;(i.hodComment||i.hodScore||i.hodTotalScore)&&(d.setFontSize(14),d.text("HOD Evaluation",20,a),d.setFontSize(10),a+=10,i.hodComment&&(d.text("Comments: ".concat(i.hodComment),20,a),a+=10),null!==i.hodScore&&void 0!==i.hodScore&&(d.text("Overall Rating: ".concat(i.hodScore,"/10"),20,a),a+=10),null!==i.hodTotalScore&&void 0!==i.hodTotalScore&&(d.text("Rubric Total Score: ".concat(i.hodTotalScore),20,a),a+=10)),(i.asstDeanComment||i.asstDeanScore)&&(d.setFontSize(14),d.text("Assistant Dean Evaluation",20,a),d.setFontSize(10),a+=10,i.asstDeanComment&&(d.text("Comments: ".concat(i.asstDeanComment),20,a),a+=10),null!==i.asstDeanScore&&void 0!==i.asstDeanScore&&(d.text("Score: ".concat(i.asstDeanScore,"/10"),20,a),a+=10)),(i.deanComment||i.finalScore||void 0!==i.promoted)&&(d.setFontSize(14),d.text("Dean Final Review",20,a),d.setFontSize(10),a+=10,i.deanComment&&(d.text("Comments: ".concat(i.deanComment),20,a),a+=10),null!==i.finalScore&&void 0!==i.finalScore&&(d.text("Final Score: ".concat(i.finalScore,"/10"),20,a),a+=10),void 0!==i.promoted&&d.text("Promotion Status: ".concat(i.promoted?"PROMOTED":"NOT PROMOTED"),20,a))}else if("HOD"===s){d.setFontSize(20),d.text("HOD Performance Evaluation Report",105,20,{align:"center"}),d.setFontSize(12),d.text("".concat(r," Term ").concat(new Date().getFullYear()),105,30,{align:"center"}),d.setFontSize(14),d.text("HOD Information",20,50),d.setFontSize(10),d.text("Name: ".concat(t),20,60),d.text("Department: ".concat((null==(l=w.find(t=>t.id===e))?void 0:l.department)||"N/A"),20,70),d.text("Term: ".concat(r),20,80);let a=100;(i.asstDeanComment||i.asstDeanScore)&&(d.setFontSize(14),d.text("Assistant Dean Evaluation",20,a),d.setFontSize(10),a+=10,i.asstDeanComment&&(d.text("Comments: ".concat(i.asstDeanComment),20,a),a+=10),null!==i.asstDeanScore&&void 0!==i.asstDeanScore&&(d.text("Score: ".concat(i.asstDeanScore,"%"),20,a),a+=10)),(i.deanComment||i.deanScore||void 0!==i.promoted)&&(d.setFontSize(14),d.text("Dean Final Review",20,a),d.setFontSize(10),a+=10,i.deanComment&&(d.text("Comments: ".concat(i.deanComment),20,a),a+=10),null!==i.deanScore&&void 0!==i.deanScore&&(d.text("Final Score: ".concat(i.deanScore,"%"),20,a),a+=10),void 0!==i.promoted&&d.text("Promotion Status: ".concat(i.promoted?"PROMOTED":"NOT PROMOTED"),20,a))}let c="".concat(t,"_").concat(r,"_").concat(new Date().getFullYear(),"_Evaluation.pdf");d.save(c)}catch(e){console.error("Error generating PDF:",e),E("Failed to generate PDF report")}finally{F(null)}},[w]),B=w.filter(e=>""===M||e.name.toLowerCase().includes(M.toLowerCase())||e.email.toLowerCase().includes(M.toLowerCase())||e.department.toLowerCase().includes(M.toLowerCase())),V=Array.from(new Set(w.map(e=>e.department))),q=e=>{switch(e){case"PROMOTED":return"Promoted";case"NOT_PROMOTED":return"Not Promoted";case"PENDING":return"Pending";default:return e||"Not Available"}};return(0,s.jsxs)("div",{className:"container mx-auto py-8 space-y-8 px-6 max-w-7xl",children:[(0,s.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",onClick:()=>t.back(),children:[(0,s.jsx)(u,{className:"w-4 h-4"}),"Back"]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Evaluation Results & Reports"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Comprehensive evaluation data and individual PDF reports for all staff members"})]}),(0,s.jsx)(l.Zp,{className:"bg-blue-50 border-blue-200 shadow-sm",children:(0,s.jsx)(l.Wu,{className:"pt-8 pb-6 px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Welcome, ",(null==x||null==(e=x.user)?void 0:e.name)||"Admin","!"]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Evaluation Results & Reports Dashboard"})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)(c.E,{variant:"secondary",className:"text-sm font-semibold",children:"ADMIN"})})]})})}),A&&(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[(0,s.jsx)(l.Zp,{className:"shadow-sm",children:(0,s.jsxs)(l.Wu,{className:"pt-8 pb-6 px-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:A.totalStaff}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Staff"})]})}),(0,s.jsx)(l.Zp,{className:"shadow-sm",children:(0,s.jsxs)(l.Wu,{className:"pt-8 pb-6 px-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:A.totalTeachers}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Teachers"})]})}),(0,s.jsx)(l.Zp,{className:"shadow-sm",children:(0,s.jsxs)(l.Wu,{className:"pt-8 pb-6 px-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:A.totalHODs}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total HODs"})]})}),(0,s.jsx)(l.Zp,{className:"shadow-sm",children:(0,s.jsxs)(l.Wu,{className:"pt-8 pb-6 px-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:A.departmentsIncluded.length}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Departments"})]})})]}),(0,s.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,s.jsxs)(l.aR,{className:"pb-4",children:[(0,s.jsx)(l.ZB,{className:"text-lg",children:"Filters"}),(0,s.jsx)(l.BT,{children:"Filter evaluation results by department, role, year, or search terms"})]}),(0,s.jsxs)(l.Wu,{className:"pt-0",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Department"}),(0,s.jsxs)(d.l6,{value:R,onValueChange:L,children:[(0,s.jsx)(d.bq,{children:(0,s.jsx)(d.yv,{placeholder:"All Departments"})}),(0,s.jsxs)(d.gC,{children:[(0,s.jsx)(d.eb,{value:"ALL",children:"All Departments"}),V.map(e=>(0,s.jsx)(d.eb,{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Role"}),(0,s.jsxs)(d.l6,{value:O,onValueChange:P,children:[(0,s.jsx)(d.bq,{children:(0,s.jsx)(d.yv,{placeholder:"All Roles"})}),(0,s.jsxs)(d.gC,{children:[(0,s.jsx)(d.eb,{value:"ALL",children:"All Roles"}),(0,s.jsx)(d.eb,{value:"TEACHER",children:"Teacher"}),(0,s.jsx)(d.eb,{value:"HOD",children:"HOD"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Year"}),(0,s.jsxs)(d.l6,{value:_,onValueChange:H,children:[(0,s.jsx)(d.bq,{children:(0,s.jsx)(d.yv,{placeholder:"All Years"})}),(0,s.jsxs)(d.gC,{children:[(0,s.jsx)(d.eb,{value:"ALL",children:"All Years"}),(0,s.jsx)(d.eb,{value:"2024",children:"2024"}),(0,s.jsx)(d.eb,{value:"2023",children:"2023"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Search"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(o.p,{placeholder:"Search users...",className:"pl-10",value:M,onChange:e=>I(e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:[(0,s.jsxs)(i.$,{className:"bg-blue-600 hover:bg-blue-700",onClick:Z,disabled:k,children:[k?(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,s.jsx)(v.A,{className:"w-4 h-4 mr-2"}),k?"Loading...":"Refresh Data"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(f,{className:"w-2 h-2 text-green-500 fill-current"}),(0,s.jsx)("span",{children:"Real-time data"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Last updated: ",N||"Loading..."]})]})]})]})]}),C&&(0,s.jsx)(l.Zp,{className:"border-red-200 bg-red-50 shadow-sm",children:(0,s.jsx)(l.Wu,{className:"pt-6 pb-6 px-6",children:(0,s.jsx)("p",{className:"text-red-800",children:C})})}),(0,s.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,s.jsxs)(l.aR,{className:"pb-4",children:[(0,s.jsxs)(l.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"}),"Evaluation Results"]}),(0,s.jsx)(l.BT,{children:B.length>0?"Showing ".concat(B.length," staff members"):"No results found"})]}),(0,s.jsx)(l.Wu,{className:"pt-0",children:k?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(p.A,{className:"w-8 h-8 animate-spin"}),(0,s.jsx)("span",{className:"ml-2",children:"Loading evaluation results..."})]}):0===B.length?(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(g.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("p",{children:"No results to display."}),(0,s.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or search criteria."})]}):(0,s.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,s.jsxs)(m.XI,{className:"min-w-full",children:[(0,s.jsx)(m.A0,{children:(0,s.jsxs)(m.Hj,{className:"bg-gray-50",children:[(0,s.jsx)(m.nd,{className:"px-3 py-2 text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Name"}),(0,s.jsx)(m.nd,{className:"px-3 py-2 text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Role"}),(0,s.jsx)(m.nd,{className:"px-3 py-2 text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Department"}),(0,s.jsx)(m.nd,{className:"px-3 py-2 text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Start Term"}),(0,s.jsx)(m.nd,{className:"px-3 py-2 text-xs font-medium text-gray-700 uppercase tracking-wider",children:"End Term"}),(0,s.jsx)(m.nd,{className:"px-3 py-2 text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)(m.BF,{children:B.map(e=>(0,s.jsxs)(m.Hj,{className:"hover:bg-gray-50",children:[(0,s.jsx)(m.nA,{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"font-medium text-sm truncate",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.email})]})}),(0,s.jsx)(m.nA,{className:"px-3 py-2",children:(0,s.jsx)(c.E,{variant:"HOD"===e.role?"default":"secondary",className:"text-xs",children:e.role})}),(0,s.jsx)(m.nA,{className:"px-3 py-2",children:(0,s.jsx)("div",{className:"text-sm truncate max-w-24",children:e.department})}),(0,s.jsx)(m.nA,{className:"px-3 py-2",children:(0,s.jsx)("div",{className:"min-w-0",children:void 0!==e.terms.START.promoted?(0,s.jsx)(c.E,{variant:e.terms.START.promoted?"default":"destructive",className:"text-xs",children:e.terms.START.promoted?"Promoted":"Not Promoted"}):(0,s.jsx)("div",{className:"text-xs font-medium",children:q(e.terms.START.status)})})}),(0,s.jsx)(m.nA,{className:"px-3 py-2",children:(0,s.jsx)("div",{className:"min-w-0",children:void 0!==e.terms.END.promoted?(0,s.jsx)(c.E,{variant:e.terms.END.promoted?"default":"destructive",className:"text-xs",children:e.terms.END.promoted?"Promoted":"Not Promoted"}):(0,s.jsx)("div",{className:"text-xs font-medium",children:q(e.terms.END.status)})})}),(0,s.jsx)(m.nA,{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>W(e.id,e.name,e.role,"START"),disabled:z==="".concat(e.id,"-START"),className:"h-7 px-2 text-xs",children:[z==="".concat(e.id,"-START")?(0,s.jsx)(p.A,{className:"w-3 h-3 animate-spin"}):(0,s.jsx)(b.A,{className:"w-3 h-3"}),"Start"]}),(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>W(e.id,e.name,e.role,"END"),disabled:z==="".concat(e.id,"-END"),className:"h-7 px-2 text-xs",children:[z==="".concat(e.id,"-END")?(0,s.jsx)(p.A,{className:"w-3 h-3 animate-spin"}):(0,s.jsx)(b.A,{className:"w-3 h-3"}),"End"]})]})})]},e.id))})]})})})]})]})}},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>i,Hj:()=>o,XI:()=>n,nA:()=>c,nd:()=>d});var s=a(95155);a(12115);var r=a(59434);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",t),...a})})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}},87383:(e,t,a)=>{Promise.resolve().then(a.bind(a,82217))},91788:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])}},e=>{e.O(0,[6169,2108,7754,6304,8441,5964,7358],()=>e(e.s=87383)),_N_E=e.O()}]);